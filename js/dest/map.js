function addNewMapMarker(a,b,c,d,e,f,g,h){}function initMap(){function a(a){var b={url:"http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|"+a+"|40|_|%E2%80%A2",size:new google.maps.Size(21,34),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(10,34),scaledSize:new google.maps.Size(21,34)};return b}function b(){for(var a=new google.maps.LatLngBounds,b=0,c=markers.length;b<c;b++)markers[b].setMap(map),a.extend(markers[b].position);map.fitBounds(a)}function c(){for(var a=0,b=markers.length;a<b;a++)markers[a].setMap(null)}var d=new google.maps.StyledMapType(DeStijl,{name:"DeStijl"}),e=new google.maps.StyledMapType(Neon,{name:"Neon"});map=new google.maps.Map(document.getElementById("map"),{center:{lat:42.25,lng:-83.698},mapTypeControlOptions:{mapTypeIds:["roadmap","satellite","hybrid","terrain","DeStijl","Neon"]},zoom:12}),map.mapTypes.set("DeStijl",d),map.mapTypes.set("Neon",e),map.setMapTypeId("DeStijl");for(var f=new google.maps.InfoWindow,g=(a("FF0080"),a("FFED00")),h="http://icons.iconarchive.com/icons/designbolts/despicable-me-2/48/Minion-Hello-icon.png",i=0;i<locations.length;i++){var j=locations[i].location;title=locations[i].title,content=locations[i].content,yelpPhone=locations[i].yelpPhone,yelpImg=locations[i].yelpImg;var k=new google.maps.Marker({position:j,title:title,icon:h,content:content,animation:google.maps.Animation.DROP,id:i});myLocation=locations[i],markers.push(k);var l=function(a){k.addListener("click",function(){populateInfoWindow(this,f,locations,a)}),k.addListener("mouseover",function(){this.setIcon(g)}),k.addListener("mouseout",function(){this.setIcon(h)})};l(i)}b();for(var m=document.getElementsByClassName("locationBox"),i=0,n=m.length;i<n;i++)m[i].addEventListener("click",function(a){return function(){markers[a].setMap(map)}}(i)),m[i].addEventListener("dblclick",function(a){return function(){markers[a].setMap(null)}}(i));document.getElementById("show-listings").addEventListener("click",b),document.getElementById("hide-listings").addEventListener("click",c),document.getElementById("searchbox").addEventListener("focus",c)}function createMarkerWindow(a,b){var c=locations[b].yelpPhone,d=locations[b].yelpImg,e=$('script[data-template="markerWindowTemp"]').html();return windowContent=e.replace(/{{id}}/g,a.id).replace(/{{locationTitle}}/g,a.title).replace(/{{locationPhone}}/g,c).replace(/{{locationImg}}/g,d).replace(/{{locationContent}}/g,a.content)}function populateInfoWindow(a,b,c,d){createMarkerWindow(a,d),b.marker!=a&&(b.marker=a,b.setContent(windowContent),b.open(map,a),b.addListener("closeclick",function(){b.close()}))}var map,markers=[],windowContent;